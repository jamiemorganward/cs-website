query GetProject($slug: String) {
  project(filter: { slug: { eq: $slug } }) {
    ...Project
  }
}

query GetLatestProject {
  allProjects(first: "1", orderBy: _createdAt_DESC) {
    ...ProjectThumb
  }
}

fragment ProjectOnWorkPage on ProjectRecord {
  ...ProjectThumb
  category
  client
  slug
  year
  service
  alignment
  themeColour {
    hex
  }
}

fragment ProjectThumb on ProjectRecord {
  projectName
  projectUrl
  category
  featuredImage {
    ...Image
    ...Video
  }
  featuredVideo
}

fragment Image on FileField {
  responsiveImage {
    alt
    src
    sizes
    base64
    height
    title
    width
  }
}

fragment Project on ProjectRecord {
  category
  client
  id
  slug
  platform
  projectName
  projectUrl
  year
  service
  alignment
  themeColour {
    hex
  }
  featuredImage {
    ...Image
    ...Video
  }
  featuredVideo
  flexibleContent {
    ...DoubleImage
    ...TextTwoColumn
    ...TextSingle
    ...SingleImage
    ...Quote
  }
}

fragment DoubleImage on DoubleImageBlockRecord {
  id
  imageRight {
    alt
    ...Video
    ...Image
  }
  videoRight
  heightRight
  imageLeft {
    alt
    ...Video
    ...Image
    url
  }
  videoLeft
  heightLeft
}

fragment TextTwoColumn on TextTwoColumnBlockRecord {
  id
  textRightColumn {
    blocks
    links
    value
  }
  textLeftColumn {
    blocks
    links
    value
  }
}

fragment TextSingle on TextSingleBlockRecord {
  id
  textBlockAlignment
  textSingle {
    blocks
    links
    value
  }
}

fragment SingleImage on SingleImageBlockRecord {
  id
  fullwidth
  image {
    url
    ...Video
    ...Image
  }
  video
}

fragment Quote on QuoteBlockRecord {
  id
  quote {
    value
    links
    blocks
  }
  quotee
}
